// Generated by CoffeeScript 2.5.1
import {
  getMove,
  global
} from '../js/globals.js';

import {
  param,
  range
} from '../js/utils.js';

export var Button = class Button {
  constructor(x1, y1, text1, onclick) {
    // @drawStar = false
    // @bar = null

    // star : (c1, c2, x, y, r2, n) =>
    // 	param.String c1
    // 	param.String c2
    // 	param.Number x
    // 	param.Number y
    // 	param.Number r2
    // 	param.Integer n
    // 	r1 = 0.385*r2
    // 	fill c2
    // 	ellipse x,y,2*r2
    // 	fill c1
    // 	angleMode DEGREES
    // 	a = 180 / n
    // 	beginShape()
    // 	for i in range 2*n
    // 		if i%2==0 then r=r1 else r=r2
    // 		sx = x + r * cos i*a+90
    // 		sy = y + r * sin i*a+90
    // 		vertex sx, sy
    // 	endShape CLOSE
    this.draw = this.draw.bind(this);
    // if @drawStar then @star "white","green", @x+0.5*global.SIZE, @y, 0.15*global.SIZE, 5
    // if @bar != null then @drawBar()

    // drawBar : =>
    // 	push()
    // 	rectMode CORNER
    // 	noStroke()
    // 	fill 'black'
    // 	rect @x-@w/2,@y+0.35*@h,@w,0.1*@h
    // 	fill 'white'
    // 	rect @x-@w/2,@y+0.35*@h,@w*@bar,0.1*@h
    // 	pop()
    this.inside = this.inside.bind(this);
    this.x = x1;
    this.y = y1;
    this.text = text1;
    this.onclick = onclick;
    param.Compact("NNSF", arguments);
    // param.Number @x
    // param.Number @y
    // param.String @text
    // param.Function @onclick
    this.w = 1.7 * global.SIZE;
    this.h = 0.7 * global.SIZE;
    this.bg = 'lightgray';
    this.fg = 'black';
    this.align = CENTER;
  }

  draw() {
    var x;
    // move = getMove global.index-1
    // if global.superIndex == 0
    // 	txt = move.san
    // else
    // 	txt = move.superiorsSan[global.superIndex-1]
    noStroke();
    fill(this.bg);
    rect(this.x, this.y, this.w, this.h * 0.65);
    if (this.align === LEFT) {
      x = this.x - 0.45 * this.w;
    } else {
      x = this.x;
    }
    // if @text == txt then fill 'red' else fill @fg
    fill(this.fg);
    push();
    textSize(0.4 * global.SIZE);
    textAlign(this.align);
    noStroke();
    text(this.text, x, this.y + 0.05 * global.SIZE);
    return pop();
  }

  inside(x, y) {
    param.Number(x);
    param.Number(y);
    return param.Boolean((this.x - this.w / 2 < x && x < this.x + this.w / 2) && (this.y - this.h / 2 < y && y < this.y + this.h / 2));
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXGJ1dHRvbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUE7RUFBUSxPQUFSO0VBQWdCLE1BQWhCO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsS0FBUjtFQUFjLEtBQWQ7Q0FBQSxNQUFBOztBQUVBLE9BQUEsSUFBYSxTQUFOLE1BQUEsT0FBQTtFQUNOLFdBQWEsR0FBQSxJQUFBLE9BQUEsU0FBQSxDQUFBLEVBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztRQW1DYixDQUFBLFdBQUEsQ0FBQSxnQkFsQ0Q7Ozs7Ozs7Ozs7Ozs7UUFrRUMsQ0FBQSxhQUFBLENBQUE7SUFuRWMsSUFBQyxDQUFBO0lBQUUsSUFBQyxDQUFBO0lBQUUsSUFBQyxDQUFBO0lBQUssSUFBQyxDQUFBO0lBQzFCLEtBQUssQ0FBQyxPQUFOLENBQWMsTUFBZCxFQUFxQixTQUFyQixFQUFGOzs7OztJQUtFLElBQUMsQ0FBQSxDQUFELEdBQUssR0FBQSxHQUFNLE1BQU0sQ0FBQztJQUNsQixJQUFDLENBQUEsQ0FBRCxHQUFLLEdBQUEsR0FBTSxNQUFNLENBQUM7SUFDbEIsSUFBQyxDQUFBLEVBQUQsR0FBTTtJQUNOLElBQUMsQ0FBQSxFQUFELEdBQU07SUFDTixJQUFDLENBQUEsS0FBRCxHQUFTO0VBVkc7O0VBbUNiLElBQU8sQ0FBQSxDQUFBO0FBQ1IsUUFBQSxDQUFBOzs7Ozs7SUFLRSxRQUFBLENBQUE7SUFDQSxJQUFBLENBQUssSUFBQyxDQUFBLEVBQU47SUFDQSxJQUFBLENBQUssSUFBQyxDQUFBLENBQU4sRUFBUSxJQUFDLENBQUEsQ0FBVCxFQUFXLElBQUMsQ0FBQSxDQUFaLEVBQWMsSUFBQyxDQUFBLENBQUQsR0FBRyxJQUFqQjtJQUVBLElBQUcsSUFBQyxDQUFBLEtBQUQsS0FBUSxJQUFYO01BQXFCLENBQUEsR0FBRSxJQUFDLENBQUEsQ0FBRCxHQUFHLElBQUEsR0FBSyxJQUFDLENBQUEsRUFBaEM7S0FBQSxNQUFBO01BQXVDLENBQUEsR0FBRSxJQUFDLENBQUEsRUFBMUM7S0FURjs7SUFXRSxJQUFBLENBQUssSUFBQyxDQUFBLEVBQU47SUFDQSxJQUFBLENBQUE7SUFDQSxRQUFBLENBQVMsR0FBQSxHQUFJLE1BQU0sQ0FBQyxJQUFwQjtJQUNBLFNBQUEsQ0FBVSxJQUFDLENBQUEsS0FBWDtJQUNBLFFBQUEsQ0FBQTtJQUNBLElBQUEsQ0FBSyxJQUFDLENBQUEsSUFBTixFQUFZLENBQVosRUFBYyxJQUFDLENBQUEsQ0FBRCxHQUFHLElBQUEsR0FBSyxNQUFNLENBQUMsSUFBN0I7V0FDQSxHQUFBLENBQUE7RUFsQk07O0VBZ0NQLE1BQVMsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBO0lBQ1IsS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFiO0lBQ0EsS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFiO1dBQ0EsS0FBSyxDQUFDLE9BQU4sQ0FBYyxDQUFBLElBQUMsQ0FBQSxDQUFELEdBQUcsSUFBQyxDQUFBLENBQUQsR0FBRyxDQUFOLEdBQVUsQ0FBVixJQUFVLENBQVYsR0FBYyxJQUFDLENBQUEsQ0FBRCxHQUFHLElBQUMsQ0FBQSxDQUFELEdBQUcsQ0FBcEIsQ0FBQSxJQUEwQixDQUFBLElBQUMsQ0FBQSxDQUFELEdBQUcsSUFBQyxDQUFBLENBQUQsR0FBRyxDQUFOLEdBQVUsQ0FBVixJQUFVLENBQVYsR0FBYyxJQUFDLENBQUEsQ0FBRCxHQUFHLElBQUMsQ0FBQSxDQUFELEdBQUcsQ0FBcEIsQ0FBeEM7RUFIUTs7QUFwRUgiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldE1vdmUsZ2xvYmFsfSBmcm9tICcuLi9qcy9nbG9iYWxzLmpzJ1xyXG5pbXBvcnQge3BhcmFtLHJhbmdlfSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b25cclxuXHRjb25zdHJ1Y3RvcjogKEB4LEB5LEB0ZXh0LEBvbmNsaWNrKSAtPlxyXG5cdFx0cGFyYW0uQ29tcGFjdCBcIk5OU0ZcIixhcmd1bWVudHNcclxuXHRcdCMgcGFyYW0uTnVtYmVyIEB4XHJcblx0XHQjIHBhcmFtLk51bWJlciBAeVxyXG5cdFx0IyBwYXJhbS5TdHJpbmcgQHRleHRcclxuXHRcdCMgcGFyYW0uRnVuY3Rpb24gQG9uY2xpY2tcclxuXHRcdEB3ID0gMS43ICogZ2xvYmFsLlNJWkVcclxuXHRcdEBoID0gMC43ICogZ2xvYmFsLlNJWkVcclxuXHRcdEBiZyA9ICdsaWdodGdyYXknXHJcblx0XHRAZmcgPSAnYmxhY2snXHJcblx0XHRAYWxpZ24gPSBDRU5URVJcclxuXHRcdCMgQGRyYXdTdGFyID0gZmFsc2VcclxuXHRcdCMgQGJhciA9IG51bGxcclxuXHJcblx0IyBzdGFyIDogKGMxLCBjMiwgeCwgeSwgcjIsIG4pID0+XHJcblx0IyBcdHBhcmFtLlN0cmluZyBjMVxyXG5cdCMgXHRwYXJhbS5TdHJpbmcgYzJcclxuXHQjIFx0cGFyYW0uTnVtYmVyIHhcclxuXHQjIFx0cGFyYW0uTnVtYmVyIHlcclxuXHQjIFx0cGFyYW0uTnVtYmVyIHIyXHJcblx0IyBcdHBhcmFtLkludGVnZXIgblxyXG5cdCMgXHRyMSA9IDAuMzg1KnIyXHJcblx0IyBcdGZpbGwgYzJcclxuXHQjIFx0ZWxsaXBzZSB4LHksMipyMlxyXG5cdCMgXHRmaWxsIGMxXHJcblx0IyBcdGFuZ2xlTW9kZSBERUdSRUVTXHJcblx0IyBcdGEgPSAxODAgLyBuXHJcblx0IyBcdGJlZ2luU2hhcGUoKVxyXG5cdCMgXHRmb3IgaSBpbiByYW5nZSAyKm5cclxuXHQjIFx0XHRpZiBpJTI9PTAgdGhlbiByPXIxIGVsc2Ugcj1yMlxyXG5cdCMgXHRcdHN4ID0geCArIHIgKiBjb3MgaSphKzkwXHJcblx0IyBcdFx0c3kgPSB5ICsgciAqIHNpbiBpKmErOTBcclxuXHQjIFx0XHR2ZXJ0ZXggc3gsIHN5XHJcblx0IyBcdGVuZFNoYXBlIENMT1NFXHJcblxyXG5cdGRyYXcgOiA9PlxyXG5cdFx0IyBtb3ZlID0gZ2V0TW92ZSBnbG9iYWwuaW5kZXgtMVxyXG5cdFx0IyBpZiBnbG9iYWwuc3VwZXJJbmRleCA9PSAwXHJcblx0XHQjIFx0dHh0ID0gbW92ZS5zYW5cclxuXHRcdCMgZWxzZVxyXG5cdFx0IyBcdHR4dCA9IG1vdmUuc3VwZXJpb3JzU2FuW2dsb2JhbC5zdXBlckluZGV4LTFdXHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHRmaWxsIEBiZ1xyXG5cdFx0cmVjdCBAeCxAeSxAdyxAaCowLjY1XHJcblxyXG5cdFx0aWYgQGFsaWduPT1MRUZUIHRoZW4geD1AeC0wLjQ1KkB3IGVsc2UgeD1AeFxyXG5cdFx0IyBpZiBAdGV4dCA9PSB0eHQgdGhlbiBmaWxsICdyZWQnIGVsc2UgZmlsbCBAZmdcclxuXHRcdGZpbGwgQGZnXHJcblx0XHRwdXNoKClcclxuXHRcdHRleHRTaXplIDAuNCpnbG9iYWwuU0laRVxyXG5cdFx0dGV4dEFsaWduIEBhbGlnblxyXG5cdFx0bm9TdHJva2UoKVxyXG5cdFx0dGV4dCBAdGV4dCwgeCxAeSswLjA1Kmdsb2JhbC5TSVpFXHJcblx0XHRwb3AoKVxyXG5cdFx0IyBpZiBAZHJhd1N0YXIgdGhlbiBAc3RhciBcIndoaXRlXCIsXCJncmVlblwiLCBAeCswLjUqZ2xvYmFsLlNJWkUsIEB5LCAwLjE1Kmdsb2JhbC5TSVpFLCA1XHJcblx0XHQjIGlmIEBiYXIgIT0gbnVsbCB0aGVuIEBkcmF3QmFyKClcclxuXHJcblx0IyBkcmF3QmFyIDogPT5cclxuXHQjIFx0cHVzaCgpXHJcblx0IyBcdHJlY3RNb2RlIENPUk5FUlxyXG5cdCMgXHRub1N0cm9rZSgpXHJcblx0IyBcdGZpbGwgJ2JsYWNrJ1xyXG5cdCMgXHRyZWN0IEB4LUB3LzIsQHkrMC4zNSpAaCxAdywwLjEqQGhcclxuXHQjIFx0ZmlsbCAnd2hpdGUnXHJcblx0IyBcdHJlY3QgQHgtQHcvMixAeSswLjM1KkBoLEB3KkBiYXIsMC4xKkBoXHJcblx0IyBcdHBvcCgpXHJcblxyXG5cdGluc2lkZSA6ICh4LHkpID0+XHJcblx0XHRwYXJhbS5OdW1iZXIgeFxyXG5cdFx0cGFyYW0uTnVtYmVyIHlcclxuXHRcdHBhcmFtLkJvb2xlYW4gQHgtQHcvMiA8IHggPCBAeCtAdy8yIGFuZCBAeS1AaC8yIDwgeSA8IEB5K0BoLzJcclxuIl19
//# sourceURL=c:\github\2023-019-ChessTree\coffee\button.coffee