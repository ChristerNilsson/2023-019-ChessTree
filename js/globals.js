// Generated by CoffeeScript 2.5.1
var f, g, pgdn, pgup,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; },
  indexOf = [].indexOf;

export var global = {
  version: 'ver: B',
  board: null,
  index: 0,
  SIZE: 50,
  filename: "",
  pics: {},
  moves: [],
  data: null,
  superIndex: 0,
  piecess: [],
  buttons: [],
  database: {},
  currTree: 0
};

import {
  ass,
  log,
  range,
  split,
  param
} from '../js/utils.js';

import {
  Button
} from '../js/button.js';

import _ from 'https://cdn.skypack.dev/lodash';

export var coords = (uci) => {
  var c0, c1, r0, r1;
  param.String(uci);
  c0 = "abcdefgh".indexOf(uci[0]);
  r0 = "12345678".indexOf(uci[1]);
  c1 = "abcdefgh".indexOf(uci[2]);
  r1 = "12345678".indexOf(uci[3]);
  return param.Array([c0 + 8 * r0, c1 + 8 * r1]);
};

ass([8, 24], coords("a2a4"));

export var toUCI = (from, to) => {
  var c0, c1, r0, r1;
  param.Integer(from);
  param.Integer(to);
  c0 = "abcdefgh"[from % 8];
  r0 = "12345678"[Math.floor(from / 8)];
  c1 = "abcdefgh"[to % 8];
  r1 = "12345678"[Math.floor(to / 8)];
  return param.String(c0 + r0 + c1 + r1);
};

ass("e2e4", toUCI(12, 28));

export var toObjectNotation = (from, to) => {
  var uci;
  param.Integer(from);
  param.Integer(to);
  uci = toUCI(from, to);
  from = uci.slice(0, 2);
  to = uci.slice(2, 4);
  return param.Object({from, to});
};

export var empty = (n) => {
  param.Integer(n);
  return param.String((1 + Math.floor(n / 8)).toString());
};

pgup = () => {
  return loadTree(1);
};

pgdn = () => {
  return loadTree(-1);
};

export var loadTree = (delta) => {
  var keys;
  param.Test(delta === (-1) || delta === 0 || delta === 1);
  global.currTree = modulo(global.currTree + delta, _.size(global.trees));
  keys = _.keys(global.trees);
  global.filename = keys[global.currTree];
  global.tree = global.trees[keys[global.currTree]];
  // global.board.start()

  // global.moves = global.tree.plies
  // global.piecess = []
  // global.moves = _.map global.moves, (move) =>
  // 	score = move[1]
  // 	san = move[2]
  // 	superiorsSan = split move[3]
  // 	uci = move[4]
  // 	superiors = split move[5]
  // 	scores = split move[6]
  // 	superiorsSan = superiorsSan.slice 0,12
  // 	superiors = superiors.slice 0,12
  // 	{score, uci, san, superiors, superiorsSan, scores}
  // global.piecess.push global.board.pieces

  // for move in global.moves
  // 	global.board.pieces = makeMove move.uci, _.last global.piecess
  // 	global.piecess.push global.board.pieces
  return clickString('last'); // slutställning
};


// export makeMove = (uci,pieces) =>
// 	param.String uci
// 	param.String pieces

// 	swap = (a,b,c,d) ->
// 		param.Integer a
// 		param.Integer b
// 		param.Integer c
// 		param.Integer d
// 		[pieces[a],pieces[b],pieces[c],pieces[d]] = [pieces[b],pieces[a],pieces[d],pieces[c]]

// 	promote = (uci,from,to) ->
// 		param.String uci
// 		param.Integer from
// 		param.Integer to
// 		newPiece = uci[4]
// 		if to in range 56,63 then newPiece = newPiece.toUpperCase()
// 		pieces[to] = newPiece
// 		pieces[from] = empty from

// 	enPassantTrue = (from,to) -> # Denna funktion skapades av CoPilot. Nästan korrekt.
// 		param.Integer from
// 		param.Integer to
// 		res = false
// 		if pieces[from] in 'pP' and pieces[to] == empty to
// 			if pieces[from] == 'p' and pieces[to+8]=='P' and from - to in [7,9] then res = true # black takes white pawn
// 			if pieces[from] == 'P' and pieces[to-8]=='p' and to - from in [7,9] then res = true # white takes black pawn
// 		param.Boolean res

// 	enPassant = (from,to) ->
// 		param.Integer from
// 		param.Integer to
// 		if pieces[from] == 'p' then pieces[to+8] = empty to+8
// 		if pieces[from] == 'P' then pieces[to-8] = empty to-8
// 		pieces[to] = pieces[from]
// 		pieces[from] = empty to

// 	normalMove = (from,to) ->
// 		param.Integer from
// 		param.Integer to
// 		pieces[to] = pieces[from]
// 		pieces[from] = empty from 
// 		param.Array pieces

// 	pieces = pieces.split ""

// 	[from,to] = coords uci
// 	if uci=='e1g1' then swap 4,6,5,7 # castlings
// 	else if uci=='e1c1' then swap 4,2,0,3
// 	else if uci=='e8g8' then swap 60,62,61,63
// 	else if uci=='e8c8' then swap 56,59,58,60
// 	else if uci.length == 5 then promote uci,from,to
// 	else if enPassantTrue from,to then enPassant from,to
// 	else normalMove from,to
// 	pieces = pieces.join ""
// 	pieces

// ass "RNBQKBNRPPPP2PPP333333334444P4445555555566666666pppppppprnbqkbnr", makeMove 'e2e4', "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr"
// ass "R1111RK1222222223333333344444444555555556666666677777777r888k88r", makeMove 'e1g1', "R111K11R222222223333333344444444555555556666666677777777r888k88r"
// ass "11KR111R222222223333333344444444555555556666666677777777r888k88r", makeMove 'e1c1', "R111K11R222222223333333344444444555555556666666677777777r888k88r"
// ass "R111K11R222222223333333344444444555555556666666677777777r8888rk8", makeMove 'e8g8', "R111K11R222222223333333344444444555555556666666677777777r888k88r"
// ass "R111K11R22222222333333334444444455555555666666667777777788kr888r", makeMove 'e8c8', "R111K11R222222223333333344444444555555556666666677777777r888k88r"
// ass "R111K11R222222223333333344444444555555556666666677777777Q8888888", makeMove 'a7a8q',"R111K11R2222222233333333444444445555555566666666P777777788888888"
// ass "1111r11122222222333333334444444455555555666666667777777788888888", makeMove 'e2e1r',"111111112222p222333333334444444455555555666666667777777788888888"
// ass "11111111222222223333p3334444444455555555666666667777777788888888", makeMove 'f4e3', "11111111222222223333P33344444p4455555555666666667777777788888888"
// ass 'RNBQKBNR2PPPPPPP33333333P44444445555555566666666pppppppprnbqkbnr', makeMove 'a2a4', "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr"
g = (item) => {
  // param.Integer item or param.String
  if (indexOf.call(item, "#-") >= 0) {
    return -1000;
  }
  if (indexOf.call(item, "#") >= 0) {
    return 1000;
  }
  return param.Integer(parseInt(item));
};

f = (arrScore, c) => {
  var a, b, d;
  param.Array(arrScore);
  param.String(c);
  arrScore = _.map(arrScore, (item) => {
    return g(item);
  });
  a = _.min(arrScore);
  b = _.max(arrScore);
  c = g(c);
  d = _.max([Math.abs(a), Math.abs(b)]);
  a = -d;
  return param.Number((c - a) / (2 * d));
};

ass(0, f([-100, 50], '-100'));

ass(0.75, f([-100, 50], '50'));

ass(1, f([-100, 50], '100'));

export var setIndex = (value) => {
  var arrSAN, arrScore, i, j, len, move, ref;
  param.Integer(value);
  if (value < -1 || value > global.moves.length) {
    return;
  }
  if (value === -1) {
    return global.board.start();
  } else {
    global.index = value;
    global.buttons = [];
    global.board.pieces = global.piecess[global.index];
    if (global.index <= 0) {
      return;
    }
    move = global.moves[global.index - 1];
    global.superIndex = 0;
    if (move.superiors.length === 0) {
      arrSAN = [move.san];
      arrScore = [move.score];
    } else {
      arrSAN = move.superiorsSan.concat([move.san]);
      arrScore = move.scores.concat([move.score]);
    }
    ref = range(min(13, arrSAN.length));
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      ((i) => {
        var button, x, y;
        x = 9.4 * global.SIZE;
        y = 0.8 * global.SIZE * (i + 1.1);
        button = new Button(x, y, arrSAN[i], () => {
          return clickInteger(i);
        });
        button.bg = ['black', 'white'][global.index % 2];
        button.fg = ['white', 'black'][global.index % 2];
        button.align = LEFT;
        button.bar = f(arrScore, arrScore[i]);
        return global.buttons.push(button);
      })(i);
    }
    return global.buttons[0].drawStar = true;
  }
};

export var clickString = (key) => {
  param.String(key);
  if (key === 'flip') {
    return global.board.flip();
  } else if (key === 'first') {
    return setIndex(0);
  } else if (key === 'last') {
    return setIndex(global.moves.length);
  } else if (key === 'prev') {
    return setIndex(global.index - 1);
  } else if (key === 'next') {
    return setIndex(global.index + 1);
  } else if (key === 'link') {
    return window.open(data.link, '_blank');
  } else if (key === 'up') {
    return fixSuper(-1);
  } else if (key === 'down') {
    return fixSuper(1);
  } else if (key === 'pgup') {
    return pgup();
  } else if (key === 'pgdn') {
    return pgdn();
  } else {
    return console.log('unknown key in clickString', key);
  }
};

export var clickInteger = (ix) => {
  param.Integer(ix);
  //setIndex global.index
  //global.superIndex = key
  return global.board.move(ix); //global.superIndex
};

//fixSuper 0
export var fixSuper = (value) => {
  var uci;
  param.Test(value === (-1) || value === 0 || value === 1);
  global.superIndex = modulo(global.superIndex + value, getMove(global.index - 1).superiors.length + 1);
  if (global.superIndex === 0) {
    uci = getMove(global.index - 1).uci;
  } else {
    uci = getMove(global.index - 1).superiors[global.superIndex - 1];
  }
  return global.board.pieces = makeMove(uci, global.piecess[global.index - 1]);
};

export var getMove = (index) => {
  param.Test((-1 <= index && index <= global.moves.length));
  if (index === -1) {
    return param.Object({
      score: '',
      uci: '',
      san: '',
      superiors: [],
      superiorsSan: []
    });
  } else {
    return param.Object(global.moves[index]);
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xvYmFscy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxnbG9iYWxzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBO0VBQUE7OztBQUFBLE9BQUEsSUFBTyxNQUFBLEdBQVM7RUFDZixPQUFBLEVBQVEsUUFETztFQUVmLEtBQUEsRUFBTSxJQUZTO0VBR2YsS0FBQSxFQUFNLENBSFM7RUFJZixJQUFBLEVBQUssRUFKVTtFQUtmLFFBQUEsRUFBUyxFQUxNO0VBTWYsSUFBQSxFQUFLLENBQUEsQ0FOVTtFQU9mLEtBQUEsRUFBTSxFQVBTO0VBUWYsSUFBQSxFQUFLLElBUlU7RUFTZixVQUFBLEVBQVcsQ0FUSTtFQVVmLE9BQUEsRUFBUSxFQVZPO0VBV2YsT0FBQSxFQUFRLEVBWE87RUFZZixRQUFBLEVBQVUsQ0FBQSxDQVpLO0VBYWYsUUFBQSxFQUFTO0FBYk07O0FBZ0JoQixPQUFBO0VBQVEsR0FBUjtFQUFZLEdBQVo7RUFBZ0IsS0FBaEI7RUFBc0IsS0FBdEI7RUFBNEIsS0FBNUI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFPLENBQVAsTUFBQTs7QUFFQSxPQUFBLElBQU8sTUFBQSxHQUFTLENBQUMsR0FBRCxDQUFBLEdBQUE7QUFDaEIsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTtFQUFDLEtBQUssQ0FBQyxNQUFOLENBQWEsR0FBYjtFQUNBLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENB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QSxDQUFRLE1BQU0sQ0FBQyxLQUFQLEdBQWEsQ0FBckIsQ0FBdUIsQ0FBQyxTQUFTLENBQUMsTUFBbEMsR0FBeUM7RUFDM0YsSUFBRyxNQUFNLENBQUMsVUFBUCxLQUFxQixDQUF4QjtJQUErQixHQUFBLEdBQU0sT0FBQSxDQUFRLE1BQU0sQ0FBQyxLQUFQLEdBQWEsQ0FBckIsQ0FBdUIsQ0FBQyxJQUE3RDtHQUFBLE1BQUE7SUFDSyxHQUFBLEdBQU0sT0FBQSxDQUFRLE1BQU0sQ0FBQyxLQUFQLEdBQWEsQ0FBckIsQ0FBdUIsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVAsR0FBa0IsQ0FBbkIsRUFENUM7O1NBRUEsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFiLEdBQXNCLFFBQUEsQ0FBUyxHQUFULEVBQWEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBUCxHQUFhLENBQWQsQ0FBM0I7QUFMTDs7QUFPbEIsT0FBQSxJQUFPLE9BQUEsR0FBVSxDQUFDLEtBQUQsQ0FBQSxHQUFBO0VBQ2hCLEtBQUssQ0FBQyxJQUFOLENBQVcsQ0FBQSxDQUFDLENBQUQsSUFBTSxLQUFOLElBQU0sS0FBTixJQUFlLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBNUIsQ0FBWDtFQUNBLElBQUcsS0FBQSxLQUFPLENBQUMsQ0FBWDtXQUNDLEtBQUssQ0FBQyxNQUFOLENBQWE7TUFBQyxLQUFBLEVBQU0sRUFBUDtNQUFXLEdBQUEsRUFBSSxFQUFmO01BQW1CLEdBQUEsRUFBSSxFQUF2QjtNQUEyQixTQUFBLEVBQVUsRUFBckM7TUFBeUMsWUFBQSxFQUFhO0lBQXRELENBQWIsRUFERDtHQUFBLE1BQUE7V0FHQyxLQUFLLENBQUMsTUFBTixDQUFhLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBRCxDQUF6QixFQUhEOztBQUZnQiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBnbG9iYWwgPSB7XHJcblx0dmVyc2lvbjondmVyOiBCJyxcclxuXHRib2FyZDpudWxsLFxyXG5cdGluZGV4OjAsXHJcblx0U0laRTo1MCxcclxuXHRmaWxlbmFtZTpcIlwiLFxyXG5cdHBpY3M6e30sXHJcblx0bW92ZXM6W10sXHJcblx0ZGF0YTpudWxsLFxyXG5cdHN1cGVySW5kZXg6MCxcclxuXHRwaWVjZXNzOltdLFxyXG5cdGJ1dHRvbnM6W10sXHJcblx0ZGF0YWJhc2U6IHt9LFxyXG5cdGN1cnJUcmVlOjBcclxufVxyXG5cclxuaW1wb3J0IHthc3MsbG9nLHJhbmdlLHNwbGl0LHBhcmFtfSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuaW1wb3J0IHtCdXR0b259IGZyb20gJy4uL2pzL2J1dHRvbi5qcydcclxuaW1wb3J0IF8gICAgICAgICAgIGZyb20gJ2h0dHBzOi8vY2RuLnNreXBhY2suZGV2L2xvZGFzaCdcclxuXHJcbmV4cG9ydCBjb29yZHMgPSAodWNpKSA9PlxyXG5cdHBhcmFtLlN0cmluZyB1Y2lcclxuXHRjMCA9IFwiYWJjZGVmZ2hcIi5pbmRleE9mIHVjaVswXVxyXG5cdHIwID0gXCIxMjM0NTY3OFwiLmluZGV4T2YgdWNpWzFdXHJcblx0YzEgPSBcImFiY2RlZmdoXCIuaW5kZXhPZiB1Y2lbMl1cclxuXHRyMSA9IFwiMTIzNDU2NzhcIi5pbmRleE9mIHVjaVszXVxyXG5cdHBhcmFtLkFycmF5IFtjMCs4KnIwLCBjMSs4KnIxXVxyXG5hc3MgWzgsMjRdLCBjb29yZHMgXCJhMmE0XCJcclxuXHJcbmV4cG9ydCB0b1VDSSA9IChmcm9tLHRvKSA9PlxyXG5cdHBhcmFtLkludGVnZXIgZnJvbVxyXG5cdHBhcmFtLkludGVnZXIgdG9cclxuXHRjMCA9IFwiYWJjZGVmZ2hcIltmcm9tJThdXHJcblx0cjAgPSBcIjEyMzQ1Njc4XCJbZnJvbS8vOF1cclxuXHRjMSA9IFwiYWJjZGVmZ2hcIlt0byU4XVxyXG5cdHIxID0gXCIxMjM0NTY3OFwiW3RvLy84XVxyXG5cdHBhcmFtLlN0cmluZyBjMCtyMCtjMStyMVxyXG5hc3MgXCJlMmU0XCIsIHRvVUNJIDEyLDI4XHJcblxyXG5leHBvcnQgdG9PYmplY3ROb3RhdGlvbiA9IChmcm9tLHRvKSA9PlxyXG5cdHBhcmFtLkludGVnZXIgZnJvbVxyXG5cdHBhcmFtLkludGVnZXIgdG9cclxuXHR1Y2kgPSB0b1VDSSBmcm9tLHRvXHJcblx0ZnJvbSA9IHVjaS5zbGljZSAwLDJcclxuXHR0byA9IHVjaS5zbGljZSAyLDRcclxuXHRwYXJhbS5PYmplY3Qge2Zyb20sIHRvfVxyXG5cclxuZXhwb3J0IGVtcHR5ID0gKG4pID0+XHJcblx0cGFyYW0uSW50ZWdlciBuXHJcblx0cGFyYW0uU3RyaW5nICgxK24vLzgpLnRvU3RyaW5nKClcclxuXHJcbnBndXAgPSA9PiBsb2FkVHJlZSAxXHJcbnBnZG4gPSA9PiBsb2FkVHJlZSAtMVxyXG5cclxuZXhwb3J0IGxvYWRUcmVlID0gKGRlbHRhKSA9PlxyXG5cdHBhcmFtLlRlc3QgZGVsdGEgaW4gWy0xLDAsMV1cclxuXHRnbG9iYWwuY3VyclRyZWUgPSAoZ2xvYmFsLmN1cnJUcmVlK2RlbHRhKSAlJSBfLnNpemUgZ2xvYmFsLnRyZWVzXHJcblxyXG5cdGtleXMgPSBfLmtleXMgZ2xvYmFsLnRyZWVzXHJcblx0Z2xvYmFsLmZpbGVuYW1lID0ga2V5c1tnbG9iYWwuY3VyclRyZWVdXHJcblx0Z2xvYmFsLnRyZWUgPSBnbG9iYWwudHJlZXNba2V5c1tnbG9iYWwuY3VyclRyZWVdXVxyXG5cclxuXHQjIGdsb2JhbC5ib2FyZC5zdGFydCgpXHJcblxyXG5cdCMgZ2xvYmFsLm1vdmVzID0gZ2xvYmFsLnRyZWUucGxpZXNcclxuXHQjIGdsb2JhbC5waWVjZXNzID0gW11cclxuXHQjIGdsb2JhbC5tb3ZlcyA9IF8ubWFwIGdsb2JhbC5tb3ZlcywgKG1vdmUpID0+XHJcblx0IyBcdHNjb3JlID0gbW92ZVsxXVxyXG5cdCMgXHRzYW4gPSBtb3ZlWzJdXHJcblx0IyBcdHN1cGVyaW9yc1NhbiA9IHNwbGl0IG1vdmVbM11cclxuXHQjIFx0dWNpID0gbW92ZVs0XVxyXG5cdCMgXHRzdXBlcmlvcnMgPSBzcGxpdCBtb3ZlWzVdXHJcblx0IyBcdHNjb3JlcyA9IHNwbGl0IG1vdmVbNl1cclxuXHQjIFx0c3VwZXJpb3JzU2FuID0gc3VwZXJpb3JzU2FuLnNsaWNlIDAsMTJcclxuXHQjIFx0c3VwZXJpb3JzID0gc3VwZXJpb3JzLnNsaWNlIDAsMTJcclxuXHQjIFx0e3Njb3JlLCB1Y2ksIHNhbiwgc3VwZXJpb3JzLCBzdXBlcmlvcnNTYW4sIHNjb3Jlc31cclxuXHQjIGdsb2JhbC5waWVjZXNzLnB1c2ggZ2xvYmFsLmJvYXJkLnBpZWNlc1xyXG5cclxuXHQjIGZvciBtb3ZlIGluIGdsb2JhbC5tb3Zlc1xyXG5cdCMgXHRnbG9iYWwuYm9hcmQucGllY2VzID0gbWFrZU1vdmUgbW92ZS51Y2ksIF8ubGFzdCBnbG9iYWwucGllY2Vzc1xyXG5cdCMgXHRnbG9iYWwucGllY2Vzcy5wdXNoIGdsb2JhbC5ib2FyZC5waWVjZXNcclxuXHJcblx0Y2xpY2tTdHJpbmcgJ2xhc3QnICMgc2x1dHN0w6RsbG5pbmdcclxuXHJcbiMgZXhwb3J0IG1ha2VNb3ZlID0gKHVjaSxwaWVjZXMpID0+XHJcbiMgXHRwYXJhbS5TdHJpbmcgdWNpXHJcbiMgXHRwYXJhbS5TdHJpbmcgcGllY2VzXHJcblxyXG4jIFx0c3dhcCA9IChhLGIsYyxkKSAtPlxyXG4jIFx0XHRwYXJhbS5JbnRlZ2VyIGFcclxuIyBcdFx0cGFyYW0uSW50ZWdlciBiXHJcbiMgXHRcdHBhcmFtLkludGVnZXIgY1xyXG4jIFx0XHRwYXJhbS5JbnRlZ2VyIGRcclxuIyBcdFx0W3BpZWNlc1thXSxwaWVjZXNbYl0scGllY2VzW2NdLHBpZWNlc1tkXV0gPSBbcGllY2VzW2JdLHBpZWNlc1thXSxwaWVjZXNbZF0scGllY2VzW2NdXVxyXG5cclxuIyBcdHByb21vdGUgPSAodWNpLGZyb20sdG8pIC0+XHJcbiMgXHRcdHBhcmFtLlN0cmluZyB1Y2lcclxuIyBcdFx0cGFyYW0uSW50ZWdlciBmcm9tXHJcbiMgXHRcdHBhcmFtLkludGVnZXIgdG9cclxuIyBcdFx0bmV3UGllY2UgPSB1Y2lbNF1cclxuIyBcdFx0aWYgdG8gaW4gcmFuZ2UgNTYsNjMgdGhlbiBuZXdQaWVjZSA9IG5ld1BpZWNlLnRvVXBwZXJDYXNlKClcclxuIyBcdFx0cGllY2VzW3RvXSA9IG5ld1BpZWNlXHJcbiMgXHRcdHBpZWNlc1tmcm9tXSA9IGVtcHR5IGZyb21cclxuXHJcbiMgXHRlblBhc3NhbnRUcnVlID0gKGZyb20sdG8pIC0+ICMgRGVubmEgZnVua3Rpb24gc2thcGFkZXMgYXYgQ29QaWxvdC4gTsOkc3RhbiBrb3JyZWt0LlxyXG4jIFx0XHRwYXJhbS5JbnRlZ2VyIGZyb21cclxuIyBcdFx0cGFyYW0uSW50ZWdlciB0b1xyXG4jIFx0XHRyZXMgPSBmYWxzZVxyXG4jIFx0XHRpZiBwaWVjZXNbZnJvbV0gaW4gJ3BQJyBhbmQgcGllY2VzW3RvXSA9PSBlbXB0eSB0b1xyXG4jIFx0XHRcdGlmIHBpZWNlc1tmcm9tXSA9PSAncCcgYW5kIHBpZWNlc1t0bys4XT09J1AnIGFuZCBmcm9tIC0gdG8gaW4gWzcsOV0gdGhlbiByZXMgPSB0cnVlICMgYmxhY2sgdGFrZXMgd2hpdGUgcGF3blxyXG4jIFx0XHRcdGlmIHBpZWNlc1tmcm9tXSA9PSAnUCcgYW5kIHBpZWNlc1t0by04XT09J3AnIGFuZCB0byAtIGZyb20gaW4gWzcsOV0gdGhlbiByZXMgPSB0cnVlICMgd2hpdGUgdGFrZXMgYmxhY2sgcGF3blxyXG4jIFx0XHRwYXJhbS5Cb29sZWFuIHJlc1xyXG5cclxuIyBcdGVuUGFzc2FudCA9IChmcm9tLHRvKSAtPlxyXG4jIFx0XHRwYXJhbS5JbnRlZ2VyIGZyb21cclxuIyBcdFx0cGFyYW0uSW50ZWdlciB0b1xyXG4jIFx0XHRpZiBwaWVjZXNbZnJvbV0gPT0gJ3AnIHRoZW4gcGllY2VzW3RvKzhdID0gZW1wdHkgdG8rOFxyXG4jIFx0XHRpZiBwaWVjZXNbZnJvbV0gPT0gJ1AnIHRoZW4gcGllY2VzW3RvLThdID0gZW1wdHkgdG8tOFxyXG4jIFx0XHRwaWVjZXNbdG9dID0gcGllY2VzW2Zyb21dXHJcbiMgXHRcdHBpZWNlc1tmcm9tXSA9IGVtcHR5IHRvXHJcblxyXG4jIFx0bm9ybWFsTW92ZSA9IChmcm9tLHRvKSAtPlxyXG4jIFx0XHRwYXJhbS5JbnRlZ2VyIGZyb21cclxuIyBcdFx0cGFyYW0uSW50ZWdlciB0b1xyXG4jIFx0XHRwaWVjZXNbdG9dID0gcGllY2VzW2Zyb21dXHJcbiMgXHRcdHBpZWNlc1tmcm9tXSA9IGVtcHR5IGZyb20gXHJcbiMgXHRcdHBhcmFtLkFycmF5IHBpZWNlc1xyXG5cclxuIyBcdHBpZWNlcyA9IHBpZWNlcy5zcGxpdCBcIlwiXHJcblxyXG4jIFx0W2Zyb20sdG9dID0gY29vcmRzIHVjaVxyXG4jIFx0aWYgdWNpPT0nZTFnMScgdGhlbiBzd2FwIDQsNiw1LDcgIyBjYXN0bGluZ3NcclxuIyBcdGVsc2UgaWYgdWNpPT0nZTFjMScgdGhlbiBzd2FwIDQsMiwwLDNcclxuIyBcdGVsc2UgaWYgdWNpPT0nZThnOCcgdGhlbiBzd2FwIDYwLDYyLDYxLDYzXHJcbiMgXHRlbHNlIGlmIHVjaT09J2U4YzgnIHRoZW4gc3dhcCA1Niw1OSw1OCw2MFxyXG4jIFx0ZWxzZSBpZiB1Y2kubGVuZ3RoID09IDUgdGhlbiBwcm9tb3RlIHVjaSxmcm9tLHRvXHJcbiMgXHRlbHNlIGlmIGVuUGFzc2FudFRydWUgZnJvbSx0byB0aGVuIGVuUGFzc2FudCBmcm9tLHRvXHJcbiMgXHRlbHNlIG5vcm1hbE1vdmUgZnJvbSx0b1xyXG4jIFx0cGllY2VzID0gcGllY2VzLmpvaW4gXCJcIlxyXG4jIFx0cGllY2VzXHJcblxyXG4jIGFzcyBcIlJOQlFLQk5SUFBQUDJQUFAzMzMzMzMzMzQ0NDRQNDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnJcIiwgbWFrZU1vdmUgJ2UyZTQnLCBcIlJOQlFLQk5SUFBQUFBQUFAzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnJcIlxyXG4jIGFzcyBcIlIxMTExUksxMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIiwgbWFrZU1vdmUgJ2UxZzEnLCBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIlxyXG4jIGFzcyBcIjExS1IxMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIiwgbWFrZU1vdmUgJ2UxYzEnLCBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIlxyXG4jIGFzcyBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4ODhyazhcIiwgbWFrZU1vdmUgJ2U4ZzgnLCBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIlxyXG4jIGFzcyBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODhrcjg4OHJcIiwgbWFrZU1vdmUgJ2U4YzgnLCBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIlxyXG4jIGFzcyBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3UTg4ODg4ODhcIiwgbWFrZU1vdmUgJ2E3YThxJyxcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2NlA3Nzc3Nzc3ODg4ODg4ODhcIlxyXG4jIGFzcyBcIjExMTFyMTExMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIiwgbWFrZU1vdmUgJ2UyZTFyJyxcIjExMTExMTExMjIyMnAyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIlxyXG4jIGFzcyBcIjExMTExMTExMjIyMjIyMjIzMzMzcDMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIiwgbWFrZU1vdmUgJ2Y0ZTMnLCBcIjExMTExMTExMjIyMjIyMjIzMzMzUDMzMzQ0NDQ0cDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIlxyXG4jIGFzcyAnUk5CUUtCTlIyUFBQUFBQUDMzMzMzMzMzUDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2cHBwcHBwcHBybmJxa2JucicsIG1ha2VNb3ZlICdhMmE0JywgXCJSTkJRS0JOUlBQUFBQUFBQMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjZwcHBwcHBwcHJuYnFrYm5yXCJcclxuXHJcbmcgPSAoaXRlbSkgPT5cclxuXHQjIHBhcmFtLkludGVnZXIgaXRlbSBvciBwYXJhbS5TdHJpbmdcclxuXHRpZiBcIiMtXCIgaW4gaXRlbSB0aGVuIHJldHVybiAtMTAwMFxyXG5cdGlmIFwiI1wiIGluIGl0ZW0gdGhlbiByZXR1cm4gMTAwMFxyXG5cdHBhcmFtLkludGVnZXIgcGFyc2VJbnQgaXRlbVxyXG5cclxuZiA9IChhcnJTY29yZSxjKSA9PlxyXG5cdHBhcmFtLkFycmF5IGFyclNjb3JlXHJcblx0cGFyYW0uU3RyaW5nIGNcclxuXHRhcnJTY29yZSA9IF8ubWFwIGFyclNjb3JlLCAoaXRlbSkgPT4gZyBpdGVtXHJcblx0YSA9IF8ubWluIGFyclNjb3JlXHJcblx0YiA9IF8ubWF4IGFyclNjb3JlXHJcblx0YyA9IGcgY1xyXG5cdGQgPSBfLm1heCBbTWF0aC5hYnMoYSksTWF0aC5hYnMoYildXHJcblx0YSA9IC1kXHJcblx0cGFyYW0uTnVtYmVyIChjLWEpLygyKmQpXHJcbmFzcyAwLCBmIFstMTAwLDUwXSwnLTEwMCdcclxuYXNzIDAuNzUsIGYgWy0xMDAsNTBdLCc1MCdcclxuYXNzIDEsIGYgWy0xMDAsNTBdLCcxMDAnXHJcblxyXG5leHBvcnQgc2V0SW5kZXggPSh2YWx1ZSkgPT5cclxuXHRwYXJhbS5JbnRlZ2VyIHZhbHVlXHJcblx0aWYgdmFsdWUgPCAtMSBvciB2YWx1ZSA+IGdsb2JhbC5tb3Zlcy5sZW5ndGggdGhlbiByZXR1cm5cclxuXHRpZiB2YWx1ZSA9PSAtMSB0aGVuIGdsb2JhbC5ib2FyZC5zdGFydCgpXHJcblx0ZWxzZVxyXG5cdFx0Z2xvYmFsLmluZGV4ID0gdmFsdWVcclxuXHRcdGdsb2JhbC5idXR0b25zID0gW11cclxuXHRcdGdsb2JhbC5ib2FyZC5waWVjZXMgPSBnbG9iYWwucGllY2Vzc1tnbG9iYWwuaW5kZXhdXHJcblx0XHRpZiBnbG9iYWwuaW5kZXg8PTAgdGhlbiByZXR1cm4gXHJcblx0XHRtb3ZlID0gZ2xvYmFsLm1vdmVzW2dsb2JhbC5pbmRleC0xXVxyXG5cdFx0Z2xvYmFsLnN1cGVySW5kZXggPSAwXHJcblx0XHRpZiBtb3ZlLnN1cGVyaW9ycy5sZW5ndGggPT0gMFxyXG5cdFx0XHRhcnJTQU4gPSBbbW92ZS5zYW5dXHJcblx0XHRcdGFyclNjb3JlID0gW21vdmUuc2NvcmVdXHJcblx0XHRlbHNlIFxyXG5cdFx0XHRhcnJTQU4gPSBtb3ZlLnN1cGVyaW9yc1Nhbi5jb25jYXQgW21vdmUuc2FuXVxyXG5cdFx0XHRhcnJTY29yZSA9IG1vdmUuc2NvcmVzLmNvbmNhdCBbbW92ZS5zY29yZV1cclxuXHJcblx0XHRmb3IgaSBpbiByYW5nZSBtaW4gMTMsIGFyclNBTi5sZW5ndGhcclxuXHRcdFx0ZG8gKGkpID0+XHJcblx0XHRcdFx0eCA9IDkuNCpnbG9iYWwuU0laRVxyXG5cdFx0XHRcdHkgPSAwLjgqZ2xvYmFsLlNJWkUqKGkrMS4xKVxyXG5cdFx0XHRcdGJ1dHRvbiA9IG5ldyBCdXR0b24geCx5LCBhcnJTQU5baV0sICgpID0+IGNsaWNrSW50ZWdlciBpXHJcblx0XHRcdFx0YnV0dG9uLmJnID0gWydibGFjaycsJ3doaXRlJ11bZ2xvYmFsLmluZGV4JTJdXHJcblx0XHRcdFx0YnV0dG9uLmZnID0gWyd3aGl0ZScsJ2JsYWNrJ11bZ2xvYmFsLmluZGV4JTJdXHJcblx0XHRcdFx0YnV0dG9uLmFsaWduID0gTEVGVFxyXG5cdFx0XHRcdGJ1dHRvbi5iYXIgPSBmIGFyclNjb3JlLCBhcnJTY29yZVtpXVxyXG5cdFx0XHRcdGdsb2JhbC5idXR0b25zLnB1c2ggYnV0dG9uXHJcblx0XHRnbG9iYWwuYnV0dG9uc1swXS5kcmF3U3RhciA9IHRydWVcclxuXHJcbmV4cG9ydCBjbGlja1N0cmluZyA9IChrZXkpID0+XHJcblx0cGFyYW0uU3RyaW5nIGtleVxyXG5cdGlmIGtleSA9PSAnZmxpcCcgdGhlbiBnbG9iYWwuYm9hcmQuZmxpcCgpXHJcblx0ZWxzZSBpZiBrZXkgPT0gJ2ZpcnN0JyB0aGVuIHNldEluZGV4IDBcclxuXHRlbHNlIGlmIGtleSA9PSAnbGFzdCcgdGhlbiBzZXRJbmRleCBnbG9iYWwubW92ZXMubGVuZ3RoXHJcblx0ZWxzZSBpZiBrZXkgPT0gJ3ByZXYnIHRoZW4gc2V0SW5kZXggZ2xvYmFsLmluZGV4LTFcclxuXHRlbHNlIGlmIGtleSA9PSAnbmV4dCcgdGhlbiBzZXRJbmRleCBnbG9iYWwuaW5kZXgrMVxyXG5cdGVsc2UgaWYga2V5ID09ICdsaW5rJyB0aGVuIHdpbmRvdy5vcGVuIGRhdGEubGluaywgJ19ibGFuaydcclxuXHRlbHNlIGlmIGtleSA9PSAndXAnICAgdGhlbiBmaXhTdXBlciAtMVxyXG5cdGVsc2UgaWYga2V5ID09ICdkb3duJyB0aGVuIGZpeFN1cGVyIDFcclxuXHRlbHNlIGlmIGtleSA9PSAncGd1cCcgdGhlbiBwZ3VwKClcclxuXHRlbHNlIGlmIGtleSA9PSAncGdkbicgdGhlbiBwZ2RuKClcclxuXHRlbHNlIGNvbnNvbGUubG9nICd1bmtub3duIGtleSBpbiBjbGlja1N0cmluZycsa2V5XHJcblxyXG5leHBvcnQgY2xpY2tJbnRlZ2VyID0gKGl4KSA9PlxyXG5cdHBhcmFtLkludGVnZXIgaXhcclxuXHQjc2V0SW5kZXggZ2xvYmFsLmluZGV4XHJcblx0I2dsb2JhbC5zdXBlckluZGV4ID0ga2V5XHJcblx0Z2xvYmFsLmJvYXJkLm1vdmUgaXggI2dsb2JhbC5zdXBlckluZGV4XHJcblx0I2ZpeFN1cGVyIDBcclxuXHJcbmV4cG9ydCBmaXhTdXBlciA9ICh2YWx1ZSkgPT5cclxuXHRwYXJhbS5UZXN0IHZhbHVlIGluIFstMSwwLDFdXHJcblx0Z2xvYmFsLnN1cGVySW5kZXggPSAoZ2xvYmFsLnN1cGVySW5kZXgrdmFsdWUpICUlIChnZXRNb3ZlKGdsb2JhbC5pbmRleC0xKS5zdXBlcmlvcnMubGVuZ3RoKzEpXHJcblx0aWYgZ2xvYmFsLnN1cGVySW5kZXggPT0gMCB0aGVuIHVjaSA9IGdldE1vdmUoZ2xvYmFsLmluZGV4LTEpLnVjaVxyXG5cdGVsc2UgdWNpID0gZ2V0TW92ZShnbG9iYWwuaW5kZXgtMSkuc3VwZXJpb3JzW2dsb2JhbC5zdXBlckluZGV4LTFdXHJcblx0Z2xvYmFsLmJvYXJkLnBpZWNlcyA9IG1ha2VNb3ZlIHVjaSxnbG9iYWwucGllY2Vzc1tnbG9iYWwuaW5kZXgtMV1cclxuXHJcbmV4cG9ydCBnZXRNb3ZlID0gKGluZGV4KSA9PlxyXG5cdHBhcmFtLlRlc3QgLTEgPD0gaW5kZXggPD0gZ2xvYmFsLm1vdmVzLmxlbmd0aFxyXG5cdGlmIGluZGV4PT0tMVxyXG5cdFx0cGFyYW0uT2JqZWN0IHtzY29yZTonJywgdWNpOicnLCBzYW46JycsIHN1cGVyaW9yczpbXSwgc3VwZXJpb3JzU2FuOltdfVxyXG5cdGVsc2VcclxuXHRcdHBhcmFtLk9iamVjdCBnbG9iYWwubW92ZXNbaW5kZXhdXHJcbiJdfQ==
//# sourceURL=c:\github\2023-019-ChessTree\coffee\globals.coffee